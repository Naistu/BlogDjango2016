{% load static %}
<html>
  <head>
    <style>
      #image{
    margin-top: 100px;
    margin-left: 500px;
    height: 45px;
    width: 45px;
}
#myProgress {
  position: relative;
  width: 100%;
  height: 7px;

}

#myBar {
  position: absolute;
  width: 1%;
  height: 100%;
  background-color:#607D8B;
  margin-bottom: 100px    
}
    </style>
 
  <link rel="shortcut icon" href="../Imagenes/ns2.png" />
  <title>Imagen Aleatoria</title>
  </head>
      <body onload="both()">
      <div id="myProgress"><div id="myBar" ></div>
</div>
      <img id="image" src= "{% static 'img/1.png' %}">
   
  </body>
  <script>
            function both(){
            imageChanger();
            move();
}
        
        function imageChanger(){
            var image = document.getElementById("image");
            switch(Math.floor(Math.random() * 3) + 1){
                case 1 :
                    image.src = "{% static 'img/1.png' %}";
                    break;
                case 2 :
                    image.src = "{% static 'img/2.png' %}";
                    break;
                case 3:
                    image.src = "{% static 'img/3.png' %}";
                    break;
                    

}
            setTimeout(imageChanger, 5000);
        }
        
        function move() {
  var elem = document.getElementById("myBar");   
  var width = 1;
  var id = setInterval(frame, 50);
  function frame() {
    if (width >= 100) {
        clearInterval(id);
        move();
    } else {
      width++; 
      elem.style.width = width + '%'; 
      console.log(width);
    }
  }
}
  </script>
</html>
